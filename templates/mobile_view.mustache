{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_orthodidacte/mobile_view

    Render the main view for the mobile app.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * cmid - [int] Course module identifier.
    * orthodidacte - [object]
    * orthodidacte.id - [int] Orthodidacte instance ID.
    * orthodidacte.intro - [string] Formatted activity description.
    * error - [string] Error message.
    * gotoresource - [bool] Boolean to redirect or not to the resource.
    * url - [string] URL redirection.

    Example context (json): @todo change example
    {
        "cmid": 42,
        "orthodidacte": {
            "id": 24,
            "intro": "<h3>Orthodidacte activity description</h3>"
        },
        "error": null,
        "gotoresource": true,
        "url": "https://www.orthodidacte.com/"
    }
}}

{{=<% %>=}}
<div>
    <core-course-module-description
            description="<% orthodidacte.intro %>"
            component="mod_orthodidacte"
            componentId="<% cmid %>">
    </core-course-module-description>

    <%# error %>
        <ion-item>
            <p>
                <ion-icon class="icon warning" aria-hidden="true" role="warning" name="warning" style="padding-right: .3em;"></ion-icon>
                <% error %>
            </p>
        </ion-item>
    <%/ error %>

    <%^ gotoresource %>
        <ion-button expand="block" core-link capture="true" href="<% url %>">
            <ion-icon name="link" role="img" start class="icon icon-md ion-md-link" aria-label="link" style="padding-right: .3em;"></ion-icon>
            {{ 'plugin.mod_orthodidacte.back_course' | translate }}
        </ion-button>
    <%/ gotoresource %>
    <%# gotoresource %>
        <ion-button expand="block" core-link capture="true" href="<% url %>">
            <ion-icon name="link" role="img" start class="icon icon-md ion-md-link" aria-label="link" style="padding-right: .3em;"></ion-icon>
            {{ 'plugin.mod_orthodidacte.gotoresource' | translate }}
        </ion-button>
    <%/ gotoresource %>

</div>